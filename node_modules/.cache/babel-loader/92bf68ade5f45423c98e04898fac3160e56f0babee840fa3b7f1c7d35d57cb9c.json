{"ast":null,"code":"import _slicedToArray from\"/Users/n3ket/Desktop/Yandex_practicum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from'react';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(props){//const avatarRef = useRef();\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),link=_useState2[0],setLink=_useState2[1];// useEffect(() => {\n//     avatarRef.current.value = '';\n//   }, [props.isOpen]);\nuseEffect(function(){setLink('');},[props.isOpen]);function handleChange(e){// setLink(avatarRef.current.value);\nsetLink(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateAvatar({avatar:link});}return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"avatar\",id:\"linkAvatar\",className:\"popup__input popup__input_type_about\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true// ref={avatarRef}\n,value:link||'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error popup__input-error_field_link\"})]});}export default EditAvatarPopup;","map":{"version":3,"names":["useRef","useState","useEffect","PopupWithForm","EditAvatarPopup","props","link","setLink","isOpen","handleChange","e","target","value","handleSubmit","preventDefault","onUpdateAvatar","avatar","onClose"],"sources":["/Users/n3ket/Desktop/Yandex_practicum/mesto-react/src/components/EditAvatarPopup.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    //const avatarRef = useRef();\n    const [link, setLink] = useState('');\n\n    // useEffect(() => {\n    //     avatarRef.current.value = '';\n    //   }, [props.isOpen]);\n\n    useEffect(() => {\n        setLink('');\n      }, [props.isOpen])\n\n    function handleChange(e) {\n        // setLink(avatarRef.current.value);\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        props.onUpdateAvatar({\n          avatar: link,\n        });\n      }\n\n    return(\n        <PopupWithForm\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            name='avatar'\n            title='Обновить аватар'\n            button='Сохранить'\n            onSubmit={handleSubmit}\n        >\n            <input\n                type=\"url\"\n                name=\"avatar\"\n                id=\"linkAvatar\"\n                className=\"popup__input popup__input_type_about\"\n                placeholder=\"Ссылка на картинку\"\n                required\n                // ref={avatarRef}\n                value={link || ''}\n                onChange={handleChange}\n            />\n            <span className=\"popup__input-error popup__input-error_field_link\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;"],"mappings":"uIAAA,OAASA,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACnD,MAAOC,cAAa,KAAM,iBAAiB,CAAC,wFAE5C,QAASC,gBAAe,CAACC,KAAK,CAAE,CAC5B;AACA,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eAEpB;AACA;AACA;AAEAL,SAAS,CAAC,UAAM,CACZK,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAAE,CAACF,KAAK,CAACG,MAAM,CAAC,CAAC,CAEpB,QAASC,aAAY,CAACC,CAAC,CAAE,CACrB;AACAH,OAAO,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASC,aAAY,CAACH,CAAC,CAAE,CACrBA,CAAC,CAACI,cAAc,EAAE,CAElBT,KAAK,CAACU,cAAc,CAAC,CACnBC,MAAM,CAAEV,IACV,CAAC,CAAC,CACJ,CAEF,mBACI,MAAC,aAAa,EACV,MAAM,CAAED,KAAK,CAACG,MAAO,CACrB,OAAO,CAAEH,KAAK,CAACY,OAAQ,CACvB,IAAI,CAAC,QAAQ,CACb,KAAK,CAAC,uFAAiB,CACvB,MAAM,CAAC,wDAAW,CAClB,QAAQ,CAAEJ,YAAa,wBAEvB,cACI,IAAI,CAAC,KAAK,CACV,IAAI,CAAC,QAAQ,CACb,EAAE,CAAC,YAAY,CACf,SAAS,CAAC,sCAAsC,CAChD,WAAW,CAAC,oGAAoB,CAChC,QAAQ,KACR;AAAA,CACA,KAAK,CAAEP,IAAI,EAAI,EAAG,CAClB,QAAQ,CAAEG,YAAa,EACzB,cACF,aAAM,SAAS,CAAC,kDAAkD,EAAQ,GAC9D,CAExB,CAEA,cAAeL,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}