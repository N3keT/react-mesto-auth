{"ast":null,"code":"import{useEffect,useState,useContext}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import api from'../utils/Api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){// const[userName, setUserName] = useState('');\n// const[userDescription, setUserDescription] = useState('');\n// const[userAvatar, setUserAvatar] = useState('');\n// const[cards, setCards] = useState([]);\nvar currentUser=useContext(CurrentUserContext);// function handleCardLike(card) {\n//     const isLiked = card.likes.some(i => i._id === currentUser._id);\n//     api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n//         setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n//     })\n//     .catch((err) => {\n//         console.log(err);\n//     });\n// }\n// function handleCardDelete(card) {\n//     api.deleteCard(card._id)\n//     .then(() => {\n//         setCards(cards.filter((c) => {\n//             return c._id !== card._id;\n//         }))\n//     })\n//     .catch((err) => {\n//         console.log(err);\n//     });\n// }\n// useEffect(() => {\n//     Promise.all([api.getUserInfo(), api.getInitialCards()])\n//         .then(([user, cards]) => {\n//             // setUserName(user.name);\n//             // setUserDescription(user.about);\n//             // setUserAvatar(user.avatar);\n//             setCards(cards);\n//             // const reverse = cards.reverse();\n//             // setCard(reverse);\n//         })\n//         .catch((err) => {\n//             console.log(err);\n//         });\n// }, []);\nreturn/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container-avatar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",style:{backgroundImage:\"url(\".concat(currentUser.avatar,\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-overlay\",onClick:props.onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name-text\",children:currentUser.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:props.onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:currentUser.about})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:props.cards.map(function(card){return/*#__PURE__*/_jsx(Card,{_id:card._id,link:card.link,name:card.name,likes:card.likes,onCardClick:props.onCardClick,owner:card.owner,onCardLike:props.onCardLike,onCardDelete:props.onCardDelete},card._id);})})})]});}export default Main;","map":{"version":3,"names":["useEffect","useState","useContext","CurrentUserContext","api","Card","Main","props","currentUser","backgroundImage","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","cards","map","card","_id","link","likes","onCardClick","owner","onCardLike","onCardDelete"],"sources":["/Users/n3ket/Desktop/Yandex_practicum/mesto-react/src/components/Main.js"],"sourcesContent":["import {useEffect, useState, useContext} from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/Api';\nimport Card from './Card';\n\nfunction Main(props) {\n    // const[userName, setUserName] = useState('');\n    // const[userDescription, setUserDescription] = useState('');\n    // const[userAvatar, setUserAvatar] = useState('');\n    // const[cards, setCards] = useState([]);\n    const currentUser = useContext(CurrentUserContext);\n\n    // function handleCardLike(card) {\n    //     const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n    //     api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n    //         setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    //     })\n    //     .catch((err) => {\n    //         console.log(err);\n    //     });\n    // }\n\n    // function handleCardDelete(card) {\n    //     api.deleteCard(card._id)\n    //     .then(() => {\n    //         setCards(cards.filter((c) => {\n    //             return c._id !== card._id;\n    //         }))\n    //     })\n    //     .catch((err) => {\n    //         console.log(err);\n    //     });\n    // }\n\n    // useEffect(() => {\n    //     Promise.all([api.getUserInfo(), api.getInitialCards()])\n    //         .then(([user, cards]) => {\n    //             // setUserName(user.name);\n    //             // setUserDescription(user.about);\n    //             // setUserAvatar(user.avatar);\n    //             setCards(cards);\n    //             // const reverse = cards.reverse();\n    //             // setCard(reverse);\n    //         })\n    //         .catch((err) => {\n    //             console.log(err);\n    //         });\n    // }, []);\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__container-avatar\">\n                    <img className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }} />\n                    <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}></div>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__name\">\n                        <h1 className=\"profile__name-text\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                <ul className=\"elements__list\">\n                    {props.cards.map((card) => (\n                    <Card\n                        key={card._id}\n                        _id={card._id}\n                        link={card.link}\n                        name={card.name}\n                        likes={card.likes}\n                        onCardClick={props.onCardClick}\n                        owner={card.owner}\n                        onCardLike={props.onCardLike}\n                        onCardDelete={props.onCardDelete}\n                    />\n                    ))}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;"],"mappings":"AAAA,OAAQA,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAO,OAAO,CACrD,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,MAAOC,IAAG,KAAM,cAAc,CAC9B,MAAOC,KAAI,KAAM,QAAQ,CAAC,wFAE1B,QAASC,KAAI,CAACC,KAAK,CAAE,CACjB;AACA;AACA;AACA;AACA,GAAMC,YAAW,CAAGN,UAAU,CAACC,kBAAkB,CAAC,CAElD;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACI,qCACI,iBAAS,SAAS,CAAC,SAAS,wBACxB,aAAK,SAAS,CAAC,2BAA2B,wBACtC,YAAK,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAE,CAAEM,eAAe,eAASD,WAAW,CAACE,MAAM,KAAI,CAAE,EAAG,cAC7F,YAAK,SAAS,CAAC,yBAAyB,CAAC,OAAO,CAAEH,KAAK,CAACI,YAAa,EAAO,GAC1E,cACN,aAAK,SAAS,CAAC,eAAe,wBAC1B,aAAK,SAAS,CAAC,eAAe,wBAC1B,WAAI,SAAS,CAAC,oBAAoB,UAAEH,WAAW,CAACI,IAAI,EAAM,cAC1D,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAsB,CAAC,OAAO,CAAEL,KAAK,CAACM,aAAc,EAAU,GAC5F,cACN,UAAG,SAAS,CAAC,gBAAgB,UAAEL,WAAW,CAACM,KAAK,EAAK,GACnD,cACN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,qBAAqB,CAAC,OAAO,CAAEP,KAAK,CAACQ,UAAW,EAAU,GACpF,cACV,gBAAS,SAAS,CAAC,UAAU,uBACzB,WAAI,SAAS,CAAC,gBAAgB,UACzBR,KAAK,CAACS,KAAK,CAACC,GAAG,CAAC,SAACC,IAAI,qBACtB,KAAC,IAAI,EAED,GAAG,CAAEA,IAAI,CAACC,GAAI,CACd,IAAI,CAAED,IAAI,CAACE,IAAK,CAChB,IAAI,CAAEF,IAAI,CAACN,IAAK,CAChB,KAAK,CAAEM,IAAI,CAACG,KAAM,CAClB,WAAW,CAAEd,KAAK,CAACe,WAAY,CAC/B,KAAK,CAAEJ,IAAI,CAACK,KAAM,CAClB,UAAU,CAAEhB,KAAK,CAACiB,UAAW,CAC7B,YAAY,CAAEjB,KAAK,CAACkB,YAAa,EAR5BP,IAAI,CAACC,GAAG,CASf,EACD,CAAC,EACD,EACC,GACP,CAEf,CAEA,cAAeb,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}