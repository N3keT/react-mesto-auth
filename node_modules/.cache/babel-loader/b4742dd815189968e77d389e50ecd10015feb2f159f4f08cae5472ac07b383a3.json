{"ast":null,"code":"var _jsxFileName = \"/Users/n3ket/Desktop/Yandex_practicum/mesto-react/src/components/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false\n  });\n  const [currentUser, setCurrentUser] = useState({});\n  useEffect(() => {\n    api.getUserInfo().then(user => {\n      setCurrentUser(user);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isOpen: false\n    });\n  }\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      name: card.name\n    });\n  }\n  function handleUpdateUser(data) {\n    api.setUserInfo(data).then(result => {\n      setCurrentUser(result);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleUpdateAvatar(data) {\n    api.setAvatar(data);\n  }\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page_background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Main, {\n          onEditProfile: handleEditProfileClick,\n          onAddPlace: handleAddPlaceClick,\n          onEditAvatar: handleEditAvatarClick,\n          onCardClick: handleCardClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n          card: selectedCard,\n          onClose: closeAllPopups\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n          isOpen: isEditProfilePopupOpen,\n          onClose: closeAllPopups,\n          onUpdateUser: handleUpdateUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n          isOpen: isAddPlacePopupOpen,\n          onClose: closeAllPopups,\n          name: \"add\",\n          title: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",\n          button: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            id: \"foto\",\n            className: \"popup__input popup__input_type_name\",\n            placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n            minLength: \"2\",\n            maxLength: \"30\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"popup__input-error popup__input-error_field_place\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            name: \"link\",\n            id: \"link\",\n            className: \"popup__input popup__input_type_about\",\n            placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"popup__input-error popup__input-error_field_link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n          isOpen: isEditAvatarPopupOpen,\n          onClose: closeAllPopups,\n          onUpdateAvatar: handleUpdateAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"delete\",\n          className: \"popup\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup__container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"popup__heading\",\n              children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"popup__form\",\n              name: \"avatarForm\",\n              noValidate: true,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                name: \"submit\",\n                type: \"submit\",\n                className: \"popup__submit-button\",\n                children: \"\\u0414\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"popup__close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"djXcByi6c09nD1ImiAUwF0l97Jk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Header","Main","Footer","PopupWithForm","ImagePopup","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isOpen","currentUser","setCurrentUser","getUserInfo","then","user","catch","err","console","log","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups","handleCardClick","card","link","name","handleUpdateUser","data","setUserInfo","result","handleUpdateAvatar","setAvatar"],"sources":["/Users/n3ket/Desktop/Yandex_practicum/mesto-react/src/components/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\n\nfunction App() {\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({isOpen: false});\n    const [currentUser, setCurrentUser] = useState({});\n\n    useEffect(() => {\n        api.getUserInfo()\n        .then((user) => {\n            setCurrentUser(user);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }, []);\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setEditAvatarPopupOpen(false);\n        setSelectedCard({isOpen: false});\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard({\n            isOpen: true,\n            link: card.link,\n            name: card.name,\n        });\n    }\n\n    function handleUpdateUser(data) {\n        api.setUserInfo(data)\n        .then((result) => {\n            setCurrentUser(result);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar(data) {\n        api.setAvatar(data);\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page_background\">\n                <div className=\"page\">\n                    <Header />\n                    <Main\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onCardClick={handleCardClick}\n                        />\n                    <Footer />\n                    <ImagePopup\n                        card={selectedCard}\n                        onClose={closeAllPopups}\n                    />\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                    <PopupWithForm\n                        isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        name='add'\n                        title='Новое место'\n                        button='Создать'\n                    >\n                        <input\n                            type=\"text\"\n                            name=\"name\" \n                            id=\"foto\" \n                            className=\"popup__input popup__input_type_name\" \n                            placeholder=\"Название\"\n                            minLength=\"2\"\n                            maxLength=\"30\"\n                            required\n                        />\n                        <span className=\"popup__input-error popup__input-error_field_place\"></span>\n                        <input\n                            type=\"url\"\n                            name=\"link\"\n                            id=\"link\"\n                            className=\"popup__input popup__input_type_about\"\n                            placeholder=\"Ссылка на картинку\"\n                            required\n                        />\n                        <span className=\"popup__input-error popup__input-error_field_link\"></span>\n                    </PopupWithForm>\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                    <div id=\"delete\" className=\"popup\">\n                        <div className=\"popup__container\">\n                            <h3 className=\"popup__heading\">Вы уверены?</h3>\n                            <form className=\"popup__form\" name=\"avatarForm\" noValidate>\n                                <button name=\"submit\" type=\"submit\" className=\"popup__submit-button\">Да</button>\n                            </form>\n                            <button type=\"button\" className=\"popup__close\"></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}