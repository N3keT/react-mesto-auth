{"ast":null,"code":"import _classCallCheck from\"/Users/n3ket/Desktop/Yandex_practicum/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/n3ket/Desktop/Yandex_practicum/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch('https://nomoreparties.co/v1/cohort-52/users/me',{method:\"GET\",headers:this._headers}).then(this._checkResponse);}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch('https://nomoreparties.co/v1/cohort-52/users/me',{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkResponse);}},{key:\"setAvatar\",value:function setAvatar(data){return fetch('https://mesto.nomoreparties.co/v1/cohort-52/users/me/avatar',{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch('https://mesto.nomoreparties.co/v1/cohort-52/cards',{method:\"GET\",headers:this._headers}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(data){return fetch('https://mesto.nomoreparties.co/v1/cohort-52/cards',{method:\"POST\",headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-52/cards/\".concat(cardId),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,likeCardStatus){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-52/cards/\".concat(cardId,\"/likes\"),{method:likeCardStatus?\"PUT\":\"DELETE\",headers:this._headers}).then(this._checkResponse);}}]);return Api;}();var api=new Api({headers:{authorization:'9314592c-bb81-4273-936f-54cff7461679','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","options","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","data","body","JSON","stringify","name","about","avatar","link","cardId","likeCardStatus","api","authorization"],"sources":["/Users/n3ket/Desktop/Yandex_practicum/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(options) {\n        this._headers = options.headers;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch('https://nomoreparties.co/v1/cohort-52/users/me', {\n            method: \"GET\",\n            headers: this._headers\n        })\n        .then(this._checkResponse);\n    }\n\n    setUserInfo(data) {\n        return fetch('https://nomoreparties.co/v1/cohort-52/users/me', {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n        .then(this._checkResponse);\n    }\n\n    setAvatar(data) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-52/users/me/avatar', {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n        .then(this._checkResponse);\n    }\n\n    getInitialCards() {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-52/cards', {\n            method: \"GET\",\n            headers: this._headers\n        })\n        .then(this._checkResponse);\n    }\n\n    addNewCard(data) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-52/cards', {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n        .then(this._checkResponse);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-52/cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: this._headers\n        })\n        .then(this._checkResponse);\n    }\n\n    changeLikeCardStatus(cardId, likeCardStatus) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-52/cards/${cardId}/likes`, {\n          method: (likeCardStatus ? \"PUT\": \"DELETE\"),\n          headers: this._headers\n        })\n        .then(this._checkResponse);\n      }\n}\n\nconst api = new Api({\n    headers: {\n      authorization: '9314592c-bb81-4273-936f-54cff7461679',\n      'Content-Type': 'application/json'\n    }\n  });\n\n  export default api;"],"mappings":"yRAAMA,IAAG,yBACL,aAAYC,OAAO,CAAE,2BACjB,IAAI,CAACC,QAAQ,CAAGD,OAAO,CAACE,OAAO,CACnC,CAAC,8CAED,wBAAeC,GAAG,CAAE,CAChB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACR,MAAOD,IAAG,CAACE,IAAI,EAAE,CACrB,CACA,MAAOC,QAAO,CAACC,MAAM,iDAAYJ,GAAG,CAACK,MAAM,EAAG,CAClD,CAAC,2BAED,sBAAc,CACV,MAAOC,MAAK,CAAC,gDAAgD,CAAE,CAC3DC,MAAM,CAAE,KAAK,CACbR,OAAO,CAAE,IAAI,CAACD,QAClB,CAAC,CAAC,CACDU,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,2BAED,qBAAYC,IAAI,CAAE,CACd,MAAOJ,MAAK,CAAC,gDAAgD,CAAE,CAC3DC,MAAM,CAAE,OAAO,CACfR,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfC,KAAK,CAAEL,IAAI,CAACK,KAChB,CAAC,CACL,CAAC,CAAC,CACDP,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,yBAED,mBAAUC,IAAI,CAAE,CACZ,MAAOJ,MAAK,CAAC,6DAA6D,CAAE,CACxEC,MAAM,CAAE,OAAO,CACfR,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBG,MAAM,CAAEN,IAAI,CAACM,MACjB,CAAC,CACL,CAAC,CAAC,CACDR,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,+BAED,0BAAkB,CACd,MAAOH,MAAK,CAAC,mDAAmD,CAAE,CAC9DC,MAAM,CAAE,KAAK,CACbR,OAAO,CAAE,IAAI,CAACD,QAClB,CAAC,CAAC,CACDU,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,0BAED,oBAAWC,IAAI,CAAE,CACb,MAAOJ,MAAK,CAAC,mDAAmD,CAAE,CAC9DC,MAAM,CAAE,MAAM,CACdR,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBa,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfG,IAAI,CAAEP,IAAI,CAACO,IACf,CAAC,CACL,CAAC,CAAC,CACDT,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,0BAED,oBAAWS,MAAM,CAAE,CACf,MAAOZ,MAAK,6DAAsDY,MAAM,EAAI,CACxEX,MAAM,CAAE,QAAQ,CAChBR,OAAO,CAAE,IAAI,CAACD,QAClB,CAAC,CAAC,CACDU,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC9B,CAAC,oCAED,8BAAqBS,MAAM,CAAEC,cAAc,CAAE,CACzC,MAAOb,MAAK,6DAAsDY,MAAM,WAAU,CAChFX,MAAM,CAAGY,cAAc,CAAG,KAAK,CAAE,QAAS,CAC1CpB,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACDU,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC5B,CAAC,mBAGP,GAAMW,IAAG,CAAG,GAAIxB,IAAG,CAAC,CAChBG,OAAO,CAAE,CACPsB,aAAa,CAAE,sCAAsC,CACrD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}